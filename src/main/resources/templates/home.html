<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments/head">
<body>
  <nav th:replace="fragments/nav"/>
  <div class="alert alert-danger alert-dismissible fade show" role="alert" th:if="${param.keySet().contains('error')}" th:switch="${param.error[0]}">
    <span th:case="1" th:text="#{error.offer.buy.not_auth}"></span>
    <span th:case="2" th:text="#{error.offer.buy.not_found}"></span>
    <span th:case="3" th:text="#{error.offer.buy.not_available}"></span>
    <span th:case="4" th:text="#{error.offer.buy.own_offer}"></span>
    <span th:case="5" th:text="#{error.offer.buy.not_enough_money}"></span>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="container" sec:authorize="!isAuthenticated()">
      <h2 th:text="#{home.common.welcome}"></h2>
      <p th:text="#{home.common.subtitle}"></p>
  </div>
  <div sec:authorize="hasRole('ROLE_USER')" th:replace="fragments/offersTable" />
  <div sec:authorize="hasRole('ROLE_ADMIN')" th:replace="fragments/usersTable" />
  <footer th:replace="fragments/footer"/>
</body>
</html>