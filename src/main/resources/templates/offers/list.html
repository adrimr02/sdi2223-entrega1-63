<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head th:replace="fragments/head"/>
<body>
<nav th:replace="fragments/nav"/>

<div class="container" id="main-container">
  <h2>Ofertas disponibles</h2>
  <p>Busca, habla con el vendedor y compra</p>
  <form class="form-inline" action="/offers">
    <div class="form-group">
      <input name="search" type="text" class="form-control" size="50"
             placeholder="Busca ofertas por su nombre">
    </div>
    <button type="submit" class="btn btn-primary">Buscar</button>
  </form>

  <div class="card m-2  " th:each="offer : ${offerList}">
    <div class="row no-gutters">
      <div class="col-md-4">
        <img th:src="@{'/'+${offer.imgPath}}" th:alt="${'Image of offer: ' + offer.title}" class="d-block w-100">
      </div>
      <div class="col-md-4">
        <div class="card-body">
          <h5 class="card-title text-capitalize" th:text="${offer.title}"></h5>
          <p class="card-text description overflow-auto" th:text="${offer.details}"></p>
          <p class="card-text" th:text="${offer.price + ' €'}"></p>
        </div>
      </div>
      <div class="col-md-2">
        <div class="card-body">
          <a class="card-link font-weight-bold" th:href="${'/offer/delete/' + offer.id }">Conversación</a>
        </div>
      </div>
      <div class="col-md-2">
        <div class="card-body">
          <a class="card-link font-weight-bold" th:href="${'/offer/delete/' + offer.id }">Comprar</a>
        </div>
      </div>
    </div>
  </div>
  <div th:if="${#lists.isEmpty(offerList)}">
    <span>Ahora mismo no hay ofertas</span>
  </div>
</div>

<footer th:replace="fragments/footer"/>
</body>
</html>